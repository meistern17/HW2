<form [formGroup]="sweetFormGroup" class="sweet-form">

  <ng-template #t let-fill="fill">
  <span class="star" [class.full]="fill === 100">
    <span class="half" [style.width.%]="fill">&hearts;</span>&hearts;
  </span>
  </ng-template>

  <mat-form-field>
    <input matInput type="text" placeholder="Name" formControlName="name" required>
    <mat-hint align="end">The name of the sweet</mat-hint>
    <mat-error *ngIf="sweetFormGroup.controls.name.hasError('required')">Name is required</mat-error>
  </mat-form-field>


  <mat-form-field>
    <mat-select placeholder="Brand" formControlName="brand">
      <mat-option [value]="brandOption.id" *ngFor="let brandOption of brandOptions">{{brandOption.name}}</mat-option>
    </mat-select>
    <mat-hint align="end">The brand</mat-hint>
  </mat-form-field>


  <mat-form-field>
    <input matInput type="date" placeholder="Expiration Date" formControlName="expiration_date">
    <mat-hint align="end">The expiration of the sweet</mat-hint>
  </mat-form-field>

  <mat-form-field>
    <input matInput type="number" placeholder="Calories" formControlName="calories">
    <mat-hint align="end">The calories of the sweet</mat-hint>
  </mat-form-field>

  <mat-checkbox formControlName="veggie">Veggie</mat-checkbox>

  <ngb-rating [(rate)]="currentRate" [starTemplate]="t" max="5"></ngb-rating>

  <mat-card-actions align="center">
    <button mat-raised-button color="primary" [disabled]="!sweetFormGroup.valid" (click)="createSweet()">
      <span *ngIf="!sweetFormGroup.controls.id.value">Create</span>
      <span *ngIf="sweetFormGroup.controls.id.value">Update</span>
    </button>
  </mat-card-actions>
</form>
